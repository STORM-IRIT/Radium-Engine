<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Radium Engine: Animation pipeline</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSsymbols.js", "TeX/AMSmath.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
 DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
 DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
 DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="radium-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Radium Engine
   &#160;<span id="projectnumber">1.5.6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('develanimation.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Animation pipeline</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md51"></a>
Animation in Radium</h1>
<p>The Radium Engine provides a set of classes dedicated to animation, which can be found in <code>Core/Animation</code>.</p>
<p>In Radium, the animation of any data can be done through the <code><a class="el" href="classRa_1_1Core_1_1Animation_1_1KeyFramedValue.html">Ra::Core::Animation::KeyFramedValue</a></code> template. It stores the data keyframes, i.e. time-value couples, which are interpolated when the value for a given time is requested.</p>
<h2><a class="anchor" id="autotoc_md52"></a>
Using KeyFramedValue to animate data</h2>
<p>There are two ways data can be animated using <code><a class="el" href="classRa_1_1Core_1_1Animation_1_1KeyFramedValue.html">Ra::Core::Animation::KeyFramedValue</a></code>:</p>
<ul>
<li>When the data is directly specified as a <code><a class="el" href="classRa_1_1Core_1_1Animation_1_1KeyFramedValue.html">Ra::Core::Animation::KeyFramedValue</a></code>. In this case, particular values at specific times can be specified to create the animation keyframes, and then used when requested: <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Core/Animation/KeyFramedValue.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;Core/Animation/KeyFramedValueInterpolators.hpp&gt;</span></div>
</div><!-- fragment --> <div class="fragment"><div class="line">    <span class="keyword">struct </span>MyStruct {</div>
<div class="line">        MyStruct() :</div>
<div class="line">            m_nonAnimatedData { 2_ra },   <span class="comment">// initialize the non animated data as 2</span></div>
<div class="line">            m_animatedData { 1_ra, 0_ra } <span class="comment">// creating the animated data with value 0 at time 1</span></div>
<div class="line">        {</div>
<div class="line">            m_animatedData.insertKeyFrame( 3_ra, 2_ra ); <span class="comment">// adding a keyframe with value 2 at time 3</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        Scalar fetch( Scalar time ) {</div>
<div class="line">            <span class="comment">// fetch the interpolated value for the given time</span></div>
<div class="line">            Scalar v_t = m_animatedData.at( time, Ra::Core::Animation::linearInterpolate&lt;Scalar&gt; );</div>
<div class="line">            <span class="comment">// use it</span></div>
<div class="line">            <span class="keywordflow">return</span> m_nonAnimatedData * v_t;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        Scalar m_nonAnimatedData;</div>
<div class="line">        <a class="code hl_class" href="classRa_1_1Core_1_1Animation_1_1KeyFramedValue.html">Ra::Core::Animation::KeyFramedValue&lt;Scalar&gt;</a> m_animatedData;</div>
<div class="line">    };</div>
<div class="ttc" id="aclassRa_1_1Core_1_1Animation_1_1KeyFramedValue_html"><div class="ttname"><a href="classRa_1_1Core_1_1Animation_1_1KeyFramedValue.html">Ra::Core::Animation::KeyFramedValue</a></div><div class="ttdef"><b>Definition</b> <a href="KeyFramedValue_8hpp_source.html#l00062">KeyFramedValue.hpp:63</a></div></div>
</div><!-- fragment --> <div class="fragment"><div class="line">        MyStruct a;</div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 0_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 0</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 2_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 2</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 4_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 4</span></div>
<div class="ttc" id="abasic_ostream_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a></div></div>
<div class="ttc" id="aendl_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a></div><div class="ttdeci">T endl(T... args)</div></div>
</div><!-- fragment --></li>
<li>When the data is not specified as a <code><a class="el" href="classRa_1_1Core_1_1Animation_1_1KeyFramedValue.html">Ra::Core::Animation::KeyFramedValue</a></code> but one wants to animate it. In this case, one must use the <code><a class="el" href="classRa_1_1Core_1_1Animation_1_1KeyFramedValueController.html">Ra::Core::Animation::KeyFramedValueController</a></code> to animate the data: <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Core/Animation/KeyFramedValueController.hpp&gt;</span></div>
</div><!-- fragment --> <div class="fragment"><div class="line"> </div>
<div class="line">    <span class="keyword">struct </span>MyStructAnimator {</div>
<div class="line">        MyStructAnimator( MyStruct&amp; s ) {</div>
<div class="line">            <span class="comment">// create the keyframes for the data</span></div>
<div class="line">            <span class="keyword">auto</span> frames = <span class="keyword">new</span> <a class="code hl_class" href="classRa_1_1Core_1_1Animation_1_1KeyFramedValue.html">Ra::Core::Animation::KeyFramedValue&lt;Scalar&gt;</a> { 0_ra, 0_ra };</div>
<div class="line">            frames-&gt;<a class="code hl_function" href="classRa_1_1Core_1_1Animation_1_1KeyFramedValue.html#a7607a8855a37987dc11a5aa826c8a236">insertKeyFrame</a>( 4_ra, 4_ra );</div>
<div class="line">            <span class="comment">// create the controller</span></div>
<div class="line">            m_controller.m_value   = frames;</div>
<div class="line">            m_controller.m_updater = [frames, &amp;s]( <span class="keyword">const</span> Scalar&amp; t ) {</div>
<div class="line">                <span class="comment">// fetch the interpolated value for the given time</span></div>
<div class="line">                <span class="keyword">auto</span> v_t = frames-&gt;at( t, Ra::Core::Animation::linearInterpolate&lt;Scalar&gt; );</div>
<div class="line">                <span class="comment">// update the data</span></div>
<div class="line">                s.m_nonAnimatedData = v_t;</div>
<div class="line">            };</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> update( Scalar time ) {</div>
<div class="line">            m_controller.updateKeyFrame( time ); <span class="comment">// uses the keyframes to update the data.</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_class" href="classRa_1_1Core_1_1Animation_1_1KeyFramedValueController.html">Ra::Core::Animation::KeyFramedValueController</a> m_controller;</div>
<div class="line">    };</div>
<div class="ttc" id="aclassRa_1_1Core_1_1Animation_1_1KeyFramedValueController_html"><div class="ttname"><a href="classRa_1_1Core_1_1Animation_1_1KeyFramedValueController.html">Ra::Core::Animation::KeyFramedValueController</a></div><div class="ttdef"><b>Definition</b> <a href="KeyFramedValueController_8hpp_source.html#l00016">KeyFramedValueController.hpp:17</a></div></div>
<div class="ttc" id="aclassRa_1_1Core_1_1Animation_1_1KeyFramedValue_html_a7607a8855a37987dc11a5aa826c8a236"><div class="ttname"><a href="classRa_1_1Core_1_1Animation_1_1KeyFramedValue.html#a7607a8855a37987dc11a5aa826c8a236">Ra::Core::Animation::KeyFramedValue::insertKeyFrame</a></div><div class="ttdeci">void insertKeyFrame(const Scalar &amp;t, const VALUE_TYPE &amp;frame)</div><div class="ttdef"><b>Definition</b> <a href="KeyFramedValue_8hpp_source.html#l00116">KeyFramedValue.hpp:116</a></div></div>
</div><!-- fragment --> <div class="fragment"><div class="line">        MyStruct a; <span class="comment">// a.m_nonAnimatedData = 2 in ctor</span></div>
<div class="line">        MyStructAnimator b( a );</div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 0_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 0</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 2_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 2</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 4_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 4</span></div>
<div class="line">        b.update( 1_ra );                          <span class="comment">// now: a.m_nonAnimatedData = 1</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 0_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 0</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 2_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 1</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 4_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 2</span></div>
<div class="line">        b.update( 2_ra );                          <span class="comment">// now: a.m_nonAnimatedData = 2</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 0_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 0</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 2_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 2</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 4_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 4</span></div>
<div class="line">        b.update( 4_ra );                          <span class="comment">// now: a.m_nonAnimatedData = 4</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 0_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 0</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 2_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 4</span></div>
<div class="line">        <a class="code hl_classRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; a.fetch( 4_ra ) &lt;&lt; <a class="code hl_functionRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>; <span class="comment">// prints: 8</span></div>
<div class="line"> </div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md53"></a>
Character Animation</h2>
<h3>Character Animation Basics</h3>
<p>In order to animate a digital character, one may choose from two main animation techniques:</p>
<ul>
<li>skeleton-based animation, in which the character's mesh is bound to an animation skeleton composed of joints, sometimes called bones.</li>
<li>cage-based animation, in which the character's mesh is bound to a set of points defining an englobing deformation cage.</li>
</ul>
<p>In both cases, the character's mesh is bound to the handles (skeleton joints or cage points) through a set of skinning weights. During the animation, the handles transformations are first updated with respect to the animation pose, then the mesh is deformed by combining the handles transformations through the skinnning weights.</p>
<h3>Character Animation in Radium</h3>
<p>The Radium Engine provides the basic classes for character animation.</p>
<p>Starting from a <code><a class="el" href="classRa_1_1Core_1_1Animation_1_1HandleArray.html">Ra::Core::Animation::HandleArray</a></code>, which represents a deformation metaphor, such as <code><a class="el" href="classRa_1_1Core_1_1Animation_1_1Cage.html">Ra::Core::Animation::Cage</a></code> or <code><a class="el" href="classRa_1_1Core_1_1Animation_1_1Skeleton.html">Ra::Core::Animation::Skeleton</a></code>, one must associate influence weights to each vertex of a mesh within a <code>Ra::Core::Animation::WeightMatrix</code> (rows representing vertices, columns handles). These influence weights, or skinning weights, are then used by a skinning algorithm to deform the associated mesh vertices w.r.t. the handles deformation defined by the animation pose. The mesh is also linked to each handle through a <code>bindMatrix</code> that expresses the transformation from the mesh's local frame to the handle's local frame.</p>
<p>In the case of character animation, an animation is a set of <code><a class="el" href="classRa_1_1Core_1_1Animation_1_1KeyFramedValue.html">Ra::Core::Animation::KeyFramedValue</a>&lt;Ra::Core::Transform&gt;</code>, one for each joint, which are interpolated by default as follows:</p>
<ul>
<li>the translation and scale channels are linearly interpolated;</li>
<li>the rotation channel is linearly interpolated in quaternion space.</li>
</ul>
<p>Animations are stored in local space, i.e. each handle transformation is expressed in the handle's frame (transformation from bone's parent for skeleton bones, position in cage's frame for cage points).</p>
<p>Hence, in order to deform the character's mesh, one must first use the handle's <code>bindMatrix</code> to express the mesh vertices position into the handles' local space before combining the handles local transformations to deform the mesh vertices.</p>
<p><em>Note</em>: As of now, cage-based character animation is not implemented in the Radium Engine.</p>
<h4>Skeleton-Based Character Animation in Radium</h4>
<p>The Radium Engine provides a system specific to the skeleton-based animation of a character, the <code><a class="el" href="classRa_1_1Engine_1_1Scene_1_1SkeletonBasedAnimationSystem.html">Ra::Engine::Scene::SkeletonBasedAnimationSystem</a></code>. This system is responsible for transmitting calls to/from animation-related processes to 2 specific<code><a class="el" href="classRa_1_1Engine_1_1Scene_1_1Component.html" title="A component is an element that can be updated by a system. It is also linked to some other components...">Ra::Engine::Scene::Component</a></code>:</p>
<ul>
<li>the <code><a class="el" href="classRa_1_1Engine_1_1Scene_1_1SkeletonComponent.html">Ra::Engine::Scene::SkeletonComponent</a></code>, which manages user interactions with the animation skeleton, enabling posing the character and playing the animations;</li>
<li>the <code><a class="el" href="classRa_1_1Engine_1_1Scene_1_1SkinningComponent.html" title="The SkinningComponent class is responsible for applying Geometric Skinning Methods on an animated obj...">Ra::Engine::Scene::SkinningComponent</a></code>, which is responsible for deforming the object's mesh vertices according to the desired skinning method.</li>
</ul>
<p>The Radium Engine provides 4 skinning methods: Linear-Blend Skinning, Dual-Quaternion Skinning and Center-Of-Rotation Skinning.</p>
<p>The Radium Engine also provides a user interface for Skeleton-based character animation parameters: the <code>Ra::Gui::SkeletonBasedAnimationUI</code>, which allows the user to edit animations, running parameters, skeleton display, skinning parameters and skinning weights display.</p>
<h4>Importing skeleton-based character animation data into Radium</h4>
<p>In order to import animation related data into Radium, the default loader would be the <code>Ra::IO::AssimpLoader</code>, which deals with several standard animation formats (fbx, collada, ...). In case one need to develop his own loader because using a file format not managed by the Assimp library, the Radium Engine provides a set of classes in <code>Core/Asset</code> defining data wrappers filled by loaders (see the specific documentation &ndash; which does not exist for now). For now, <code>Ra::Core::Asset::FileLoaderInterface</code>s in the Radium Engine produce only one <code>Ra::Core::Asset::FileData</code> per loaded file.</p>
<p>Regarding character animation data, there are a few things to do in order to ensure correct import by the animation and skinning plugins:</p>
<ul>
<li>The generated <code>Ra::Core::Asset::FileData</code> must contain exactly one <code><a class="el" href="classRa_1_1Core_1_1Asset_1_1HandleData.html">Ra::Core::Asset::HandleData</a></code> per animated object, as much <code><a class="el" href="classRa_1_1Core_1_1Asset_1_1AnimationData.html">Ra::Core::Asset::AnimationData</a></code> as needed per animated object and may contain several or no <code><a class="el" href="classRa_1_1Core_1_1Asset_1_1GeometryData.html">Ra::Core::Asset::GeometryData</a></code>. Note: for objects composed of several mesh parts, these must be referred by their name when filling the <code><a class="el" href="classRa_1_1Core_1_1Asset_1_1HandleData.html">Ra::Core::Asset::HandleData</a></code>.</li>
<li>The animation skeleton, i.e. the bones and hierarchy, must be loaded into the <code><a class="el" href="classRa_1_1Core_1_1Asset_1_1HandleData.html">Ra::Core::Asset::HandleData</a></code>, as well as the skinning weights. The bone hierarchy will be defined by the <code>Ra::Core::Asset::EdgeData</code>. Each bone will be represented by a <code><a class="el" href="structRa_1_1Core_1_1Asset_1_1HandleComponentData.html">Ra::Core::Asset::HandleComponentData</a></code>, storing the bone's name, transform in model space and its per-skinned mesh offset matrix and vertex skinning weights. The offset matrix stores the transformation from mesh space to the node's local space.</li>
<li>Animation keyframes, i.e. couples of time and pose (in local space), if any, must be loaded into an <code><a class="el" href="classRa_1_1Core_1_1Asset_1_1AnimationData.html">Ra::Core::Asset::AnimationData</a></code>. The whole animation must be stored bone-wise in <code><a class="el" href="structRa_1_1Core_1_1Asset_1_1HandleAnimation.html">Ra::Core::Asset::HandleAnimation</a></code>s, whose name must match the bone's. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="develmanual.html">Developer manual</a></li><li class="navelem"><a class="el" href="api.html">API</a></li><li class="navelem"><a class="el" href="core.html">Core</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>

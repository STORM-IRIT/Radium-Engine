<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Radium Engine: Coding conventions for Radium</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSsymbols.js", "TeX/AMSmath.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
 DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
 DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
 DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="radium-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Radium Engine
   &#160;<span id="projectnumber">1.5.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('develCodingConvention.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Coding conventions for Radium </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md59">Code style</a></li>
<li class="level1"><a href="#autotoc_md60">Headers</a></li>
<li class="level1"><a href="#autotoc_md61">Functions</a></li>
<li class="level1"><a href="#autotoc_md62">Scope and names</a></li>
<li class="level1"><a href="#autotoc_md63">Variables</a></li>
<li class="level1"><a href="#autotoc_md64">Scalar types</a></li>
<li class="level1"><a href="#autotoc_md65">Class design</a></li>
<li class="level1"><a href="#autotoc_md66">Non-negociable</a></li>
</ul>
</div>
<div class="textblock"><p>Mainly inspired by <a href="https://google-styleguide.googlecode.com/svn/trunk/cppguide.html">https://google-styleguide.googlecode.com/svn/trunk/cppguide.html</a></p>
<h1><a class="anchor" id="autotoc_md59"></a>
Code style</h1>
<p>Please follow the scripts/clang-format coding style (tested <code>with clang-format 9.0</code>). We also provide a pre commit hook that checks the committed files are correctly formatted. To install both hooks and clang-format, simply run <code>./scripts/install-scripts-linux.sh</code> on linux, or adapt to your OS.</p>
<ul>
<li>Indentation style : 4-spaces</li>
<li>Brace style : keep it consistent across files.</li>
<li>Case style : CamelCase</li>
<li>Only classes have their first letter capitalized. Functions and variables don't.</li>
<li>Class members have the <code>m_</code> prefix. Other prefixes (apart from <code>g_</code> for globals, and <code>s_</code> for static classe members) are discouraged.</li>
<li>no ifs / for / while one-liners. Braces everywhere. Even for cases in a switch.</li>
<li>separate different clauses in a boolean expression with parens. <code>( (a || b) &amp;&amp; ( c+d &lt; 0) )</code></li>
<li>use c++ style casts unless converting a value (e.g. <code>int x = int(f))</code>. Avoid <code>const_cast</code> if possible.</li>
<li>use prefix increments (<code>++i</code> and not <code>i++</code>)</li>
<li>use <code>const</code> everywhere possible. use <code>constexpr</code> for const values.</li>
<li>line length should be kept at 80 (soft limit) and not exceed 120 (hard limit)</li>
<li>no need for () for a return statement.</li>
</ul>
<h1><a class="anchor" id="autotoc_md60"></a>
Headers</h1>
<ul>
<li>Every .cpp must have an associated .hpp file</li>
<li>oneline inline can be defined in class</li>
<li>complex inline methods are defined out of class in .hpp</li>
<li>Two types of include guards are accepted (modern is preferred):<ul>
<li>Modern: <code>#pragma once</code></li>
<li>Legacy: <code>#ifndef HEADER_NAME_HPP_</code></li>
</ul>
</li>
<li>Every class should have its own header.</li>
<li>Always use &lt; &gt; in include directives and never " "</li>
<li>Keep headers in order : Class header, other headers from project, system libraries, other libraries.</li>
<li>forward declare as much as you can</li>
</ul>
<h1><a class="anchor" id="autotoc_md61"></a>
Functions</h1>
<ul>
<li>use const reference or value to pass input parameters</li>
<li>use references for passing output parameters</li>
<li>output parameters appear last.</li>
</ul>
<h1><a class="anchor" id="autotoc_md62"></a>
Scope and names</h1>
<ul>
<li>use anonymous namespaces for file local variables / functions. no classes with only static functions !</li>
<li>Use <code>namespace <a class="el" href="namespaceRa.html">Ra</a> { }</code> for all radium engine code, plus a sub-namespace for each module (e.g. <code>Ra::Physics</code>)</li>
<li>never use the <code>using</code> instruction for a whole namespace</li>
<li>put all non member functions in a namespace (no top level global functions)</li>
<li>declare pointers and ref attached to their type : <code>void* a</code>, <code>const Foo&amp; bar</code></li>
<li>macros and defined constants should be in capitals.</li>
</ul>
<h1><a class="anchor" id="autotoc_md63"></a>
Variables</h1>
<ul>
<li>declarations should always be made on separate lines; (no <code>int a, b, c;</code>)</li>
<li>initialize variables on the line of declaration whenever possible</li>
<li>no global variables. If really necessary, prefix with <code>g_</code></li>
<li>use C++11 <code>nullptr</code> for null pointers.</li>
<li>use <code>auto</code> only when it helps readability.</li>
</ul>
<h1><a class="anchor" id="autotoc_md64"></a>
Scalar types</h1>
<ul>
<li>Radium defines a default type <code>Scalar</code>, set either as <code>float</code> or <code>double</code> depending on the cmake option <code>RADIUM_WITH_DOUBLE_PRECISION</code></li>
<li>Always use <code>Scalar</code> type to represent floating point numbers, except when interfacing with external libraries using a fixed floating point type (e.g. Qt).</li>
<li>Radium offers operators to create <code>Scalar</code> from integer and floating point numbers: always use <code>Scalar()</code> or <code>_ra</code> suffix when defining numbers from literals (e.g. <code>auto a = .5_ra;</code>, <code>Scalar b = a * Scalar( 2 );</code> or <code>Scalar c = a / 2_ra;</code>).</li>
<li>Equality between Scalar values needs to be computed using <code>Ra::almost_equals</code> (see <a class="el" href="CoreMacros_8hpp_source.html">CoreMacros.hpp</a>).</li>
</ul>
<h1><a class="anchor" id="autotoc_md65"></a>
Class design</h1>
<ul>
<li>Constructors should be trival. All complex work goes in an <code>init()</code> function</li>
<li>Try to order class members by size (biggest to smallest)</li>
<li>Try to declare these fixed-size vectors all together, and preferably first in the class.</li>
<li>Never pass a fixed-size vector by value to a function (only ref and const ref). Using them as return value is fine.</li>
<li>use <code>explicit</code> for all one-arguments constructors</li>
<li>use <code>= delete</code> for preventing copy constructor and other compiler-generated functions</li>
<li>use <code>= default</code> for default compiler-generated function (copy constructor, assignment operator)</li>
<li>use <code>struct</code> for trivial PODs where all data is public and <code>class</code> for everything else.</li>
<li>no other inheritance than public</li>
<li>if multiple inheritance, all parent classes but one have to be interfaces (= pure virtual classes)</li>
<li>composition is better than inheritance</li>
<li>if the class has virtual methods then the destructor is virtual</li>
<li>use <code>override</code> when overriding a virtual method.</li>
<li>use operator overloading only if the meaning is non-ambiguous (only for arithmetic-like syntax).</li>
<li>be consistent with operators (i.e. if you overload + and = also overload +=).</li>
<li>declare : public functions (constructors first), private functions, public variables, private variables.</li>
<li>declare nested types and enums before functions</li>
<li>do not abuse function overloading.</li>
<li>avoid <code>mutable</code></li>
<li>getters and setter should have a consistent name with the variable.</li>
</ul>
<h1><a class="anchor" id="autotoc_md66"></a>
Non-negociable</h1>
<ul>
<li>Exceptions are forbidden, except when mimicking or using <code>std</code> containers (e.g., by throwing <code>std::out_of_range</code>). In any cases, exceptions must be used in exceptional cases, and should not be used as an event system.</li>
<li>No gotos. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="develmanual.html">Developer manual</a></li>
    <li class="footer">Generated on Wed Jun 28 2023 11:29:09 for Radium Engine by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>

# -------------- Configuration of the Radium DataflowCore targets and definitions -----------------------
# Setup Engine and check for dependencies

if (DataflowQtGui_FOUND AND NOT TARGET DataflowQtGui)
    set(Configure_DataflowQtGui ON)
    # verify dependencies
    if(NOT DataflowCore_FOUND)
        # if in source dir
        if(EXISTS "${CMAKE_CURRENT_LIST_DIR}/../Dataflow/Core/RadiumDataflowCoreConfig.cmake")
            set(DataflowCore_FOUND TRUE)
            include(${CMAKE_CURRENT_LIST_DIR}/../Dataflow/Core/RadiumDataflowCoreConfig.cmake)
        else()
            # if in install dir
            if(EXISTS "${CMAKE_CURRENT_LIST_DIR}/../DataflowCore/RadiumDataflowCoreConfig.cmake")
                set(DataflowCore_FOUND TRUE)
                include(${CMAKE_CURRENT_LIST_DIR}/../DataflowCore/RadiumDataflowCoreConfig.cmake)
            else()
                set(Radium_FOUND False)
                set(Radium_NOT_FOUND_MESSAGE "Radium::DataflowQtGui: dependency DataflowCore not found")
                set(Configure_DataflowQtGui OFF)
            endif()
        endif()
    endif()
    if(NOT Gui_FOUND)
        if(EXISTS "${CMAKE_CURRENT_LIST_DIR}/../Gui/RadiumGuiConfig.cmake")
            set(Gui_FOUND TRUE)
            include(${CMAKE_CURRENT_LIST_DIR}/../Gui/RadiumGuiConfig.cmake)
        else()
            set(Radium_FOUND False)
            set(Radium_NOT_FOUND_MESSAGE "Radium::DataflowQtGui: dependency Gui not found")
            set(Configure_DataflowQtGui OFF)
        endif()
    endif()
endif()

if(Configure_DataflowQtGui)
    if("@RadiumNodeEditor_DIR@" STREQUAL "")
        set(RadiumNodeEditor_DIR "${_BaseExternalDir_}/@RadiumNodeEditor_sub_DIR@")
    else()
        set(RadiumNodeEditor_DIR "@RadiumNodeEditor_DIR@")
    endif()
    find_dependency(glm REQUIRED NO_DEFAULT_PATH)
    find_dependency(RadiumNodeEditor REQUIRED)
    include("${CMAKE_CURRENT_LIST_DIR}/../Dataflow/QtGui/DataflowQtGuiTargets.cmake")
endif()
